<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabeltrainer - Aktive Partizipien</title>
    <style>
        :root {
            /* Gr√ºnes Farbschema */
            --primary-color: #2e7d32;      /* Dunkles Gr√ºn */
            --primary-light: #4caf50;      /* Helles Gr√ºn */
            --primary-dark: #1b5e20;       /* Sehr dunkles Gr√ºn */
            --accent-color: #a5d6a7;       /* Akzent */
            --bg-color: #e8f5e9;           /* Hintergrund */
            --card-bg: #ffffff;            /* Kartenhintergrund */
            --text-color: #1b5e20;         /* Textfarbe */
            --shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: var(--primary-dark);
        }

        .subtitle {
            font-size: 1rem;
            color: var(--primary-color);
            opacity: 0.8;
        }

        /* Hauptcontainer */
        .app-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Fortschrittsanzeige */
        .progress-bar {
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            background: rgba(255,255,255,0.6);
            padding: 5px 15px;
            border-radius: 20px;
            align-self: center;
        }

        /* 3D Karten Bereich */
        .scene {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            border-radius: 15px;
            background-color: var(--card-bg);
            border: 2px solid var(--primary-light);
            font-size: 2rem;
            font-weight: 500;
            user-select: none;
        }

        .card__face--front {
            color: var(--primary-dark);
        }

        .card__face--back {
            background-color: var(--primary-color);
            color: white;
            transform: rotateY(180deg);
            border-color: var(--primary-dark);
        }

        /* Dynamische Schriftgr√∂√üenanpassung */
        .text-content {
            word-wrap: break-word;
            max-width: 100%;
        }
        .text-small { font-size: 1.5rem; }
        .text-xsmall { font-size: 1.2rem; }

        /* Hinweis zum Drehen */
        .flip-hint {
            position: absolute;
            bottom: 10px;
            font-size: 0.8rem;
            opacity: 0.6;
            font-weight: normal;
        }

        /* Steuerungen */
        .controls-area {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .meta-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        button {
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.1s, background-color 0.2s;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        button:active {
            transform: scale(0.96);
        }

        /* Navigationsbuttons */
        .btn-nav {
            background-color: var(--primary-color);
            color: white;
            flex: 1;
            font-size: 1.1rem;
        }
        .btn-nav:hover {
            background-color: var(--primary-dark);
        }

        /* Meta Buttons (Mischen, Reset) */
        .btn-meta {
            background-color: var(--accent-color);
            color: var(--primary-dark);
            font-size: 0.9rem;
        }
        .btn-meta:hover {
            background-color: #81c784;
        }

        /* Tastatur-Hinweise */
        .shortcuts-info {
            margin-top: 30px;
            font-size: 0.85rem;
            text-align: center;
            color: var(--primary-dark);
            opacity: 0.7;
        }

        /* Responsive Design Anpassungen */
        @media (max-width: 480px) {
            .scene { height: 250px; }
            .card__face { font-size: 1.6rem; }
            h1 { font-size: 1.5rem; }
            button { padding: 10px 15px; font-size: 0.9rem; }
            .btn-nav { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Russisch Vokabeln</h1>
        <div class="subtitle">Aktive Partizipien & Verben</div>
    </header>

    <div class="app-container">
        
        <!-- Fortschritt -->
        <div class="progress-bar" id="progressDisplay">1 / 115</div>

        <!-- Karte -->
        <div class="scene" id="cardScene">
            <div class="card" id="flashcard">
                <div class="card__face card__face--front">
                    <div class="text-content" id="cardFrontText">Lade...</div>
                    <div class="flip-hint">Klicken zum Wenden</div>
                </div>
                <div class="card__face card__face--back">
                    <div class="text-content" id="cardBackText">Lade...</div>
                </div>
            </div>
        </div>

        <!-- Steuerung -->
        <div class="controls-area">
            <div class="nav-buttons">
                <button class="btn-nav" id="btnPrev">‚Üê Vorherige</button>
                <button class="btn-nav" id="btnNext">N√§chste ‚Üí</button>
            </div>
            
            <div class="meta-buttons">
                <button class="btn-meta" id="btnShuffle">üîÄ Mischen</button>
                <button class="btn-meta" id="btnReset">‚èÆ An den Anfang</button>
            </div>
        </div>

    </div>

    <div class="shortcuts-info">
        Tastatur: <strong>Pfeile</strong> (Navigieren) ‚Ä¢ <strong>Leertaste/Enter</strong> (Wenden) ‚Ä¢ <strong>Pos1</strong> (Anfang)
    </div>

    <script>
        // --- Daten ---
        const rawData = [
            "–¥–µÃÅ–ª–∞—Ç—å / —Å–¥–µÃÅ–ª–∞—Ç—å ‚Äì machen / tun",
            "—á–∏—Ç–∞ÃÅ—Ç—å / –ø—Ä–æ—á–∏—Ç–∞ÃÅ—Ç—å ‚Äì lesen",
            "–ø–∏—Å–∞ÃÅ—Ç—å / –Ω–∞–ø–∏—Å–∞ÃÅ—Ç—å ‚Äì schreiben",
            "–∏–∑—É—á–∞ÃÅ—Ç—å / –∏–∑—É—á–∏ÃÅ—Ç—å ‚Äì studieren / erlernen",
            "–≤–∏ÃÅ–¥–µ—Ç—å / —É–≤–∏ÃÅ–¥–µ—Ç—å ‚Äì sehen",
            "—Å–ª—ãÃÅ—à–∞—Ç—å / —É—Å–ª—ãÃÅ—à–∞—Ç—å ‚Äì h√∂ren",
            "—Å–º–æ—Ç—Ä–µÃÅ—Ç—å / –ø–æ—Å–º–æ—Ç—Ä–µÃÅ—Ç—å ‚Äì schauen / ansehen",
            "–∏–≥—Ä–∞ÃÅ—Ç—å / —Å—ã–≥—Ä–∞ÃÅ—Ç—å ‚Äì spielen",
            "–≥—É–ª—èÃÅ—Ç—å / –ø–æ–≥—É–ª—èÃÅ—Ç—å ‚Äì spazieren gehen",
            "—Ä–∞–±–æÃÅ—Ç–∞—Ç—å / –ø–æ—Ä–∞–±–æÃÅ—Ç–∞—Ç—å ‚Äì arbeiten",
            "–∂–∏—Ç—å / –ø—Ä–æ–∂–∏ÃÅ—Ç—å ‚Äì leben / wohnen",
            "—Å—Ç–æ—èÃÅ—Ç—å / –ø–æ—Å—Ç–æ—èÃÅ—Ç—å ‚Äì stehen",
            "—Å–∏–¥–µÃÅ—Ç—å / –ø–æ—Å–∏–¥–µÃÅ—Ç—å ‚Äì sitzen",
            "–ª–µ–∂–∞ÃÅ—Ç—å / –ø–æ–ª–µ–∂–∞ÃÅ—Ç—å ‚Äì liegen",
            "—Å–ø–∞—Ç—å / –ø–æ—Å–ø–∞ÃÅ—Ç—å ‚Äì schlafen",
            "–µÃÅ—Å—Ç—å / —Å—ä–µ—Å—Ç—å ‚Äì essen",
            "–ø–∏—Ç—å / –≤—ãÃÅ–ø–∏—Ç—å ‚Äì trinken",
            "–∏–¥—Ç–∏ÃÅ / –ø–æ–π—Ç–∏ÃÅ ‚Äì gehen (zielgerichtet)",
            "–ø—Ä–∏—Ö–æ–¥–∏ÃÅ—Ç—å / –ø—Ä–∏–π—Ç–∏ÃÅ ‚Äì ankommen (zu Fu√ü)",
            "—É—Ö–æ–¥–∏ÃÅ—Ç—å / —É–π—Ç–∏ÃÅ ‚Äì weggehen",
            "–ø–æ–¥—Ö–æ–¥–∏ÃÅ—Ç—å / –ø–æ–¥–æ–π—Ç–∏ÃÅ ‚Äì herangehen",
            "–æ—Ç—Ö–æ–¥–∏ÃÅ—Ç—å / –æ—Ç–æ–π—Ç–∏ÃÅ ‚Äì weggehen / abfahren (Zug)",
            "–µÃÅ—Ö–∞—Ç—å / –ø–æ–µÃÅ—Ö–∞—Ç—å ‚Äì fahren (zielgerichtet)",
            "–ø—Ä–∏–µ–∑–∂–∞ÃÅ—Ç—å / –ø—Ä–∏–µÃÅ—Ö–∞—Ç—å ‚Äì ankommen (gefahren)",
            "—É–µ–∑–∂–∞ÃÅ—Ç—å / —É–µÃÅ—Ö–∞—Ç—å ‚Äì wegfahren",
            "–Ω–µ—Å—Ç–∏ÃÅ / –ø–æ–Ω–µ—Å—Ç–∏ÃÅ ‚Äì tragen (zielgerichtet)",
            "–≤–µ—Å—Ç–∏ÃÅ / –ø–æ–≤–µ—Å—Ç–∏ÃÅ ‚Äì f√ºhren / leiten",
            "–≤–µ–∑—Ç–∏ÃÅ / –ø–æ–≤–µ–∑—Ç–∏ÃÅ ‚Äì transportieren / fahren (jemanden/etwas)",
            "–±–µ–∂–∞ÃÅ—Ç—å / –ø–æ–±–µ–∂–∞ÃÅ—Ç—å ‚Äì rennen / laufen",
            "—Ä–∞—Å—Ç–∏ÃÅ / –≤—ãÃÅ—Ä–∞—Å—Ç–∏ ‚Äì wachsen",
            "—É–º–∏—Ä–∞ÃÅ—Ç—å / —É–º–µ—Ä–µÃÅ—Ç—å ‚Äì sterben",
            "–ø–æ–∫—É–ø–∞ÃÅ—Ç—å / –∫—É–ø–∏ÃÅ—Ç—å ‚Äì kaufen",
            "–ø—Ä–æ–¥–∞–≤–∞ÃÅ—Ç—å / –ø—Ä–æ–¥–∞ÃÅ—Ç—å ‚Äì verkaufen",
            "—Ç–µ—Ä—èÃÅ—Ç—å / –ø–æ—Ç–µ—Ä—èÃÅ—Ç—å ‚Äì verlieren",
            "–Ω–∞—Ö–æ–¥–∏ÃÅ—Ç—å / –Ω–∞–π—Ç–∏ÃÅ ‚Äì finden",
            "—Å—Ç—Ä–æÃÅ–∏—Ç—å / –ø–æ—Å—Ç—Ä–æÃÅ–∏—Ç—å ‚Äì bauen",
            "–æ—Ç–∫—Ä—ã–≤–∞ÃÅ—Ç—å / –æ—Ç–∫—Ä—ãÃÅ—Ç—å ‚Äì √∂ffnen",
            "–∑–∞–∫—Ä—ã–≤–∞ÃÅ—Ç—å / –∑–∞–∫—Ä—ãÃÅ—Ç—å ‚Äì schlie√üen",
            "—Å–ø—Ä–∞ÃÅ—à–∏–≤–∞—Ç—å / —Å–ø—Ä–æ—Å–∏ÃÅ—Ç—å ‚Äì fragen",
            "–æ—Ç–≤–µ—á–∞ÃÅ—Ç—å / –æ—Ç–≤–µÃÅ—Ç–∏—Ç—å ‚Äì antworten",
            "–¥–∞—Ä–∏ÃÅ—Ç—å / –ø–æ–¥–∞—Ä–∏ÃÅ—Ç—å ‚Äì schenken",
            "–ø–æ–º–æ–≥–∞ÃÅ—Ç—å / –ø–æ–º–æÃÅ—á—å ‚Äì helfen",
            "–ª–µ—á–∏ÃÅ—Ç—å / –≤—ãÃÅ–ª–µ—á–∏—Ç—å ‚Äì heilen / behandeln",
            "—É—á–∏ÃÅ—Ç—å / –≤—ãÃÅ—É—á–∏—Ç—å ‚Äì lernen (etwas)",
            "–∑–≤–æ–Ω–∏ÃÅ—Ç—å / –ø–æ–∑–≤–æ–Ω–∏ÃÅ—Ç—å ‚Äì anrufen",
            "–ª—é–±–∏ÃÅ—Ç—å / –ø–æ–ª—é–±–∏ÃÅ—Ç—å ‚Äì lieben",
            "—Å–º–µ—èÃÅ—Ç—å—Å—è / –∑–∞—Å–º–µ—èÃÅ—Ç—å—Å—è ‚Äì lachen",
            "—É–ª—ã–±–∞ÃÅ—Ç—å—Å—è / —É–ª—ã–±–Ω—ÉÃÅ—Ç—å—Å—è ‚Äì l√§cheln",
            "–≤–æ–∑–≤—Ä–∞—â–∞ÃÅ—Ç—å—Å—è / –≤–µ—Ä–Ω—ÉÃÅ—Ç—å—Å—è ‚Äì zur√ºckkehren",
            "–æ–ø–∞ÃÅ–∑–¥—ã–≤–∞—Ç—å / –æ–ø–æ–∑–¥–∞ÃÅ—Ç—å ‚Äì sich versp√§ten",
            "–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞ÃÅ—Ç—å—Å—è / –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞ÃÅ—Ç—å—Å—è ‚Äì sich interessieren",
            "–∑–∞–±—ã–≤–∞ÃÅ—Ç—å / –∑–∞–±—ãÃÅ—Ç—å ‚Äì vergessen",
            "–≤—Å—Ç–∞–≤–∞ÃÅ—Ç—å / –≤—Å—Ç–∞—Ç—å ‚Äì aufstehen",
            "–≤—ã–∏ÃÅ–≥—Ä—ã–≤–∞—Ç—å / –≤—ãÃÅ–∏–≥—Ä–∞—Ç—å ‚Äì gewinnen",
            "–∫—Ä–∞—Å—Ç—å / —É–∫—Ä–∞ÃÅ—Å—Ç—å ‚Äì stehlen",
            "—Ä–µ—à–∞ÃÅ—Ç—å / —Ä–µ—à–∏ÃÅ—Ç—å ‚Äì l√∂sen / entscheiden",
            "–ø–µ—Ç—å / —Å–ø–µ—Ç—å ‚Äì singen",
            "—Å–¥–∞–≤–∞ÃÅ—Ç—å / —Å–¥–∞—Ç—å ‚Äì ablegen / bestehen (Pr√ºfung)",
            "—á–µ–ª–æ–≤–µÃÅ–∫ ‚Äì Mensch / Mann",
            "–ª—éÃÅ–¥–∏ ‚Äì Leute / Menschen",
            "–º—É–∂—á–∏ÃÅ–Ω–∞ ‚Äì Mann",
            "–∂–µÃÅ–Ω—â–∏–Ω–∞ ‚Äì Frau",
            "–¥–µÃÅ–≤—É—à–∫–∞ ‚Äì junges M√§dchen / junge Frau",
            "–ø–∞ÃÅ—Ä–µ–Ω—å ‚Äì Junge / Kerl / Freund",
            "–º–∞ÃÅ–ª—å—á–∏–∫ ‚Äì Junge",
            "–¥–µÃÅ–≤–æ—á–∫–∞ ‚Äì M√§dchen",
            "—Ä–µ–±—ë–Ω–æ–∫ ‚Äì Kind",
            "–¥–µÃÅ—Ç–∏ ‚Äì Kinder",
            "—Å—Ç—É–¥–µÃÅ–Ω—Ç / —Å—Ç—É–¥–µÃÅ–Ω—Ç–∫–∞ ‚Äì Student / Studentin",
            "—à–∫–æÃÅ–ª—å–Ω–∏–∫ / —à–∫–æÃÅ–ª—å–Ω–∏—Ü–∞ ‚Äì Sch√ºler / Sch√ºlerin",
            "—É—á–µ–Ω–∏ÃÅ–∫ / —É—á–µ–Ω–∏ÃÅ—Ü–∞ ‚Äì Sch√ºler / Sch√ºlerin",
            "—É—á–∏ÃÅ—Ç–µ–ª—å / —É—á–∏ÃÅ—Ç–µ–ª—å–Ω–∏—Ü–∞ ‚Äì Lehrer / Lehrerin",
            "–≤—Ä–∞—á ‚Äì Arzt / √Ñrztin",
            "–¥—Ä—É–≥ / –ø–æ–¥—Ä—ÉÃÅ–≥–∞ ‚Äì Freund / Freundin",
            "—Å–æ—Å–µÃÅ–¥ / —Å–æ—Å–µÃÅ–¥–∫–∞ ‚Äì Nachbar / Nachbarin",
            "—Ç—É—Ä–∏ÃÅ—Å—Ç / —Ç—É—Ä–∏ÃÅ—Å—Ç–∫–∞ ‚Äì Tourist / Touristin",
            "–≥–∏–¥ ‚Äì Reisef√ºhrer (Person)",
            "–ø–∏—Å–∞ÃÅ—Ç–µ–ª—å ‚Äì Schriftsteller",
            "–ø–æ—çÃÅ—Ç ‚Äì Dichter",
            "–∞—Ä—Ö–∏—Ç–µÃÅ–∫—Ç–æ—Ä ‚Äì Architekt",
            "–ø–∞—Å—Å–∞–∂–∏ÃÅ—Ä ‚Äì Passagier",
            "–≥–æ—Å—Ç—å ‚Äì Gast",
            "–∞—Ä—Ç–∏ÃÅ—Å—Ç / –∞—Ä—Ç–∏ÃÅ—Å—Ç–∫–∞ ‚Äì K√ºnstler(in) / Schauspieler(in)",
            "–¥–æ–º ‚Äì Haus",
            "–∫–≤–∞—Ä—Ç–∏ÃÅ—Ä–∞ ‚Äì Wohnung",
            "–∫–æÃÅ–º–Ω–∞—Ç–∞ ‚Äì Zimmer",
            "–æ–∫–Ω–æÃÅ ‚Äì Fenster",
            "—Å—Ç–æ–ª ‚Äì Tisch",
            "–∫–Ω–∏ÃÅ–≥–∞ ‚Äì Buch",
            "–ø–∏—Å—å–º–æÃÅ ‚Äì Brief",
            "–≥–∞–∑–µÃÅ—Ç–∞ ‚Äì Zeitung",
            "–∂—É—Ä–Ω–∞ÃÅ–ª ‚Äì Zeitschrift / Magazin",
            "–±–∏–ª–µÃÅ—Ç ‚Äì Ticket / Fahrkarte",
            "–ø–∞ÃÅ—Å–ø–æ—Ä—Ç ‚Äì Reisepass",
            "—Ç–µ–ª–µ—Ñ–æÃÅ–Ω ‚Äì Telefon",
            "–º–∞—à–∏ÃÅ–Ω–∞ ‚Äì Auto",
            "–∞–≤—Ç–æÃÅ–±—É—Å ‚Äì Bus",
            "–ø–æÃÅ–µ–∑–¥ ‚Äì Zug",
            "–≤–æ–∫–∑–∞ÃÅ–ª ‚Äì Bahnhof",
            "—Å—Ç–∞ÃÅ–Ω—Ü–∏—è ‚Äì Station / Haltestelle",
            "–æ—Å—Ç–∞–Ω–æÃÅ–≤–∫–∞ ‚Äì Haltestelle",
            "–ø–∞—Ä–∫ ‚Äì Park",
            "—ÉÃÅ–ª–∏—Ü–∞ ‚Äì Stra√üe",
            "–≥–æÃÅ—Ä–æ–¥ ‚Äì Stadt",
            "–¥–µ—Ä–µÃÅ–≤–Ω—è ‚Äì Dorf",
            "–¥–µÃÅ—Ä–µ–≤–æ ‚Äì Baum",
            "—èÃÅ–±–ª–æ–∫–æ ‚Äì Apfel",
            "–º—è—á ‚Äì Ball",
            "—Å–æ–±–∞ÃÅ–∫–∞ ‚Äì Hund",
            "–∫–æ—Ç ‚Äì Kater",
            "–æ—á–∫–∏ÃÅ ‚Äì Brille",
            "–ø–∏ÃÅ—Ü—Ü–∞ ‚Äì Pizza",
            "–∑–∞–¥–∞ÃÅ—á–∞ ‚Äì Aufgabe",
            "—É—Ä–æÃÅ–∫ ‚Äì Unterricht / Lektion",
            "—ç–∫–∑–∞ÃÅ–º–µ–Ω ‚Äì Pr√ºfung"
        ];

        // Daten verarbeiten: String in Objekte umwandeln
        let cards = rawData.map(line => {
            const parts = line.split(' ‚Äì ');
            return {
                front: parts[0],
                back: parts[1] || '---'
            };
        });

        // --- Status ---
        let currentIndex = 0;
        let isFlipped = false;

        // --- DOM Elemente ---
        const cardElement = document.getElementById('flashcard');
        const cardFront = document.getElementById('cardFrontText');
        const cardBack = document.getElementById('cardBackText');
        const progressDisplay = document.getElementById('progressDisplay');
        const btnPrev = document.getElementById('btnPrev');
        const btnNext = document.getElementById('btnNext');
        const btnShuffle = document.getElementById('btnShuffle');
        const btnReset = document.getElementById('btnReset');
        const cardScene = document.getElementById('cardScene');

        // --- Funktionen ---

        function updateCard() {
            const currentCard = cards[currentIndex];
            
            // Text setzen
            cardFront.textContent = currentCard.front;
            cardBack.textContent = currentCard.back;
            
            // Schriftgr√∂√üe anpassen wenn Text lang ist
            adjustFontSize(cardFront, currentCard.front);
            adjustFontSize(cardBack, currentCard.back);

            // Fortschritt aktualisieren
            progressDisplay.textContent = `${currentIndex + 1} / ${cards.length}`;

            // Karte zur√ºcksetzen (Vorderseite zeigen)
            if (isFlipped) {
                flipCard(false);
            }
        }

        function adjustFontSize(element, text) {
            element.classList.remove('text-small', 'text-xsmall');
            if (text.length > 30) {
                element.classList.add('text-xsmall');
            } else if (text.length > 15) {
                element.classList.add('text-small');
            }
        }

        function flipCard(forceState = null) {
            if (forceState !== null) {
                isFlipped = forceState;
            } else {
                isFlipped = !isFlipped;
            }
            
            if (isFlipped) {
                cardElement.classList.add('is-flipped');
            } else {
                cardElement.classList.remove('is-flipped');
            }
        }

        function nextCard() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
                updateCard();
            } else {
                // Optional: Loop zum Anfang
                // currentIndex = 0;
                // updateCard();
                
                // Visuelles Feedback am Ende (kurzes Wackeln)
                cardScene.style.transform = "translateX(5px)";
                setTimeout(() => cardScene.style.transform = "translateX(0)", 100);
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                updateCard();
            } else {
                // Visuelles Feedback am Anfang
                cardScene.style.transform = "translateX(-5px)";
                setTimeout(() => cardScene.style.transform = "translateX(0)", 100);
            }
        }

        function resetToStart() {
            currentIndex = 0;
            updateCard();
        }

        function shuffleCards() {
            // Fisher-Yates Shuffle
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            resetToStart();
        }

        // --- Event Listeners ---

        // Klick auf Karte zum Wenden
        cardScene.addEventListener('click', () => flipCard());

        // Buttons
        btnNext.addEventListener('click', (e) => {
            e.target.blur(); // Fokus entfernen
            nextCard();
        });

        btnPrev.addEventListener('click', (e) => {
            e.target.blur();
            prevCard();
        });

        btnReset.addEventListener('click', (e) => {
            e.target.blur();
            resetToStart();
        });

        btnShuffle.addEventListener('click', (e) => {
            e.target.blur();
            shuffleCards();
        });

        // Tastatursteuerung
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowRight':
                    nextCard();
                    break;
                case 'ArrowLeft':
                    prevCard();
                    break;
                case ' ':
                case 'Enter':
                    e.preventDefault(); // Scrollen verhindern
                    flipCard();
                    break;
                case 'Home':
                    resetToStart();
                    break;
            }
        });

        // --- Initialisierung ---
        updateCard();

    </script>
</body>
</html>